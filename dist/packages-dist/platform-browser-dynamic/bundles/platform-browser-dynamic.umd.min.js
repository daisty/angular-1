var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/compiler"),require("@angular/core"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["exports","@angular/compiler","@angular/core","@angular/platform-browser"],factory):factory((global.ng=global.ng||{},global.ng.platformBrowserDynamic=global.ng.platformBrowserDynamic||{}),global.ng.compiler,global.ng.core,global.ng.platformBrowser)}(this,function(exports,_angular_compiler,_angular_core,_angular_platformBrowser){"use strict";function isPresent(obj){return void 0!==obj&&null!==obj}function isBlank(obj){return void 0===obj||null===obj}function isArray(obj){return Array.isArray(obj)}function _flattenArray(source,target){if(isPresent(source))for(var i=0;i<source.length;i++){var item=source[i];isArray(item)?_flattenArray(item,target):target.push(item)}return target}function initReflector(){reflector.reflectionCapabilities=new ReflectionCapabilities}function bootstrap(appComponentType,customProvidersOrDynamicModule){var compilerOptions,providers=[],declarations=[],imports=[],precompile=[];customProvidersOrDynamicModule instanceof Array?providers=customProvidersOrDynamicModule:customProvidersOrDynamicModule&&(providers=normalizeArray(customProvidersOrDynamicModule.providers),declarations=normalizeArray(customProvidersOrDynamicModule.declarations),imports=normalizeArray(customProvidersOrDynamicModule.imports),precompile=normalizeArray(customProvidersOrDynamicModule.precompile),compilerOptions=customProvidersOrDynamicModule.compilerOptions);var deprecatedConfiguration=_angular_compiler.analyzeAppProvidersForDeprecatedConfiguration(providers);compilerOptions=_angular_core.CompilerFactory.mergeOptions(deprecatedConfiguration.compilerOptions,compilerOptions),declarations=deprecatedConfiguration.moduleDeclarations.concat(declarations);var DynamicModule=function(){function DynamicModule(){}return DynamicModule}();return DynamicModule.decorators=[{type:_angular_core.NgModule,args:[{providers:providers,declarations:declarations.concat([appComponentType]),imports:[_angular_platformBrowser.BrowserModule,imports],precompile:precompile.concat([appComponentType])}]}],_angular_core.bootstrapModule(DynamicModule,browserDynamicPlatform(),compilerOptions).then(function(moduleRef){var console=moduleRef.injector.get(Console);deprecatedConfiguration.deprecationMessages.forEach(function(msg){return console.warn(msg)});var appRef=moduleRef.injector.get(_angular_core.ApplicationRef);return appRef.bootstrap(appComponentType)})}function bootstrapWorkerUi(workerScriptUri,customProviders){return console.warn("bootstrapWorkerUi is deprecated. Call workerUiPlatform(workerScriptUi, customProviders) instead."),Promise.resolve(_angular_platformBrowser.workerUiPlatform(workerScriptUri,customProviders))}function bootstrapWorkerApp(appComponentType,customProviders){console.warn("bootstrapWorkerApp is deprecated. Create an @NgModule that includes the `WorkerAppModule` and use `bootstrapModule` with the `workerAppDynamicPlatform()` instead.");var deprecatedConfiguration=_angular_compiler.analyzeAppProvidersForDeprecatedConfiguration(customProviders),compilerOptions=_angular_core.CompilerFactory.mergeOptions(deprecatedConfiguration.compilerOptions),declarations=[deprecatedConfiguration.moduleDeclarations.concat([appComponentType])],DynamicModule=function(){function DynamicModule(){}return DynamicModule}();return DynamicModule.decorators=[{type:_angular_core.NgModule,args:[{providers:customProviders,declarations:declarations,imports:[_angular_platformBrowser.WorkerAppModule],precompile:[appComponentType]}]}],_angular_core.bootstrapModule(DynamicModule,workerAppDynamicPlatform(),compilerOptions).then(function(moduleRef){var console=moduleRef.injector.get(Console);deprecatedConfiguration.deprecationMessages.forEach(function(msg){return console.warn(msg)});var appRef=moduleRef.injector.get(_angular_core.ApplicationRef);return appRef.bootstrap(appComponentType)})}function normalizeArray(arr){return arr?arr:[]}var globalScope,ReflectionCapabilities=_angular_core.__core_private__.ReflectionCapabilities,reflector=_angular_core.__core_private__.reflector,Console=_angular_core.__core_private__.Console;globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var _global=globalScope;_global.assert=function(condition){};var Map$1=_global.Map,Set=_global.Set,ListWrapper=(function(){try{if(1===new Map$1([[1,2]]).size)return function(pairs){return new Map$1(pairs)}}catch(e){}return function(pairs){for(var map=new Map$1,i=0;i<pairs.length;i++){var pair=pairs[i];map.set(pair[0],pair[1])}return map}}(),function(){try{if(new Map$1(new Map$1))return function(m){return new Map$1(m)}}catch(e){}return function(m){var map=new Map$1;return m.forEach(function(v,k){map.set(k,v)}),map}}(),function(){return(new Map$1).keys().next?function(m){for(var k,keyIterator=m.keys();!(k=keyIterator.next()).done;)m.set(k.value,null)}:function(m){m.forEach(function(v,k){m.set(k,null)})}}(),function(){try{if((new Map$1).values().next)return function(m,getValues){return getValues?Array.from(m.values()):Array.from(m.keys())}}catch(e){}return function(m,getValues){var res=ListWrapper.createFixedSize(m.size),i=0;return m.forEach(function(v,k){res[i]=getValues?v:k,i++}),res}}(),function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(size){return new Array(size)},ListWrapper.createGrowableSize=function(size){return new Array(size)},ListWrapper.clone=function(array){return array.slice(0)},ListWrapper.forEachWithIndex=function(array,fn){for(var i=0;i<array.length;i++)fn(array[i],i)},ListWrapper.first=function(array){return array?array[0]:null},ListWrapper.last=function(array){return array&&0!=array.length?array[array.length-1]:null},ListWrapper.indexOf=function(array,value,startIndex){return void 0===startIndex&&(startIndex=0),array.indexOf(value,startIndex)},ListWrapper.contains=function(list,el){return list.indexOf(el)!==-1},ListWrapper.reversed=function(array){var a=ListWrapper.clone(array);return a.reverse()},ListWrapper.concat=function(a,b){return a.concat(b)},ListWrapper.insert=function(list,index,value){list.splice(index,0,value)},ListWrapper.removeAt=function(list,index){var res=list[index];return list.splice(index,1),res},ListWrapper.removeAll=function(list,items){for(var i=0;i<items.length;++i){var index=list.indexOf(items[i]);list.splice(index,1)}},ListWrapper.remove=function(list,el){var index=list.indexOf(el);return index>-1&&(list.splice(index,1),!0)},ListWrapper.clear=function(list){list.length=0},ListWrapper.isEmpty=function(list){return 0==list.length},ListWrapper.fill=function(list,value,start,end){void 0===start&&(start=0),void 0===end&&(end=null),list.fill(value,start,null===end?list.length:end)},ListWrapper.equals=function(a,b){if(a.length!=b.length)return!1;for(var i=0;i<a.length;++i)if(a[i]!==b[i])return!1;return!0},ListWrapper.slice=function(l,from,to){return void 0===from&&(from=0),void 0===to&&(to=null),l.slice(from,null===to?void 0:to)},ListWrapper.splice=function(l,from,length){return l.splice(from,length)},ListWrapper.sort=function(l,compareFn){isPresent(compareFn)?l.sort(compareFn):l.sort()},ListWrapper.toString=function(l){return l.toString()},ListWrapper.toJSON=function(l){return JSON.stringify(l)},ListWrapper.maximum=function(list,predicate){if(0==list.length)return null;for(var solution=null,maxValue=-(1/0),index=0;index<list.length;index++){var candidate=list[index];if(!isBlank(candidate)){var candidateValue=predicate(candidate);candidateValue>maxValue&&(solution=candidate,maxValue=candidateValue)}}return solution},ListWrapper.flatten=function(list){var target=[];return _flattenArray(list,target),target},ListWrapper.addAll=function(list,source){for(var i=0;i<source.length;i++)list.push(source[i])},ListWrapper}()),BaseException=(function(){var test=new Set([1,2,3]);return 3===test.size?function(lst){return new Set(lst)}:function(lst){var res=new Set(lst);if(res.size!==lst.length)for(var i=0;i<lst.length;i++)res.add(lst[i]);return res}}(),function(_super){function BaseException(message){void 0===message&&(message="--"),_super.call(this,message),this.message=message,this.stack=new Error(message).stack}return __extends(BaseException,_super),BaseException.prototype.toString=function(){return this.message},BaseException}(Error)),PromiseCompleter=function(){function PromiseCompleter(){var _this=this;this.promise=new Promise(function(res,rej){_this.resolve=res,_this.reject=rej})}return PromiseCompleter}(),PromiseWrapper=function(){function PromiseWrapper(){}return PromiseWrapper.resolve=function(obj){return Promise.resolve(obj)},PromiseWrapper.reject=function(obj,_){return Promise.reject(obj)},PromiseWrapper.catchError=function(promise,onError){return promise.catch(onError)},PromiseWrapper.all=function(promises){return 0==promises.length?Promise.resolve([]):Promise.all(promises)},PromiseWrapper.then=function(promise,success,rejection){return promise.then(success,rejection)},PromiseWrapper.wrap=function(computation){return new Promise(function(res,rej){try{res(computation())}catch(e){rej(e)}})},PromiseWrapper.scheduleMicrotask=function(computation){PromiseWrapper.then(PromiseWrapper.resolve(null),computation,function(_){})},PromiseWrapper.completer=function(){return new PromiseCompleter},PromiseWrapper}(),CachedXHR=function(_super){function CachedXHR(){if(_super.call(this),this._cache=_global.$templateCache,null==this._cache)throw new BaseException("CachedXHR: Template cache was not found in $templateCache.")}return __extends(CachedXHR,_super),CachedXHR.prototype.get=function(url){return this._cache.hasOwnProperty(url)?PromiseWrapper.resolve(this._cache[url]):PromiseWrapper.reject("CachedXHR: Did not find cached template for "+url,null)},CachedXHR}(_angular_compiler.XHR),XHRImpl=function(_super){function XHRImpl(){_super.apply(this,arguments)}return __extends(XHRImpl,_super),XHRImpl.prototype.get=function(url){var completer=PromiseWrapper.completer(),xhr=new XMLHttpRequest;return xhr.open("GET",url,!0),xhr.responseType="text",xhr.onload=function(){var response=isPresent(xhr.response)?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:0),200<=status&&status<=300?completer.resolve(response):completer.reject("Failed to load "+url,null)},xhr.onerror=function(){completer.reject("Failed to load "+url,null)},xhr.send(),completer.promise},XHRImpl}(_angular_compiler.XHR);XHRImpl.decorators=[{type:_angular_core.Injectable}];var BROWSER_APP_COMPILER_PROVIDERS=[],CACHED_TEMPLATE_PROVIDER=[{provide:_angular_compiler.XHR,useClass:CachedXHR}],BROWSER_DYNAMIC_COMPILER_FACTORY=_angular_compiler.RUNTIME_COMPILER_FACTORY.withDefaults({providers:[{provide:_angular_compiler.XHR,useClass:XHRImpl}]}),BROWSER_DYNAMIC_PLATFORM_PROVIDERS=[_angular_platformBrowser.BROWSER_PLATFORM_PROVIDERS,{provide:_angular_core.CompilerFactory,useValue:BROWSER_DYNAMIC_COMPILER_FACTORY},{provide:_angular_core.PLATFORM_INITIALIZER,useValue:initReflector,multi:!0}],browserDynamicPlatform=_angular_core.createPlatformFactory("browserDynamic",BROWSER_DYNAMIC_PLATFORM_PROVIDERS),WORKER_APP_DYNAMIC_PLATFORM_PROVIDERS=[_angular_platformBrowser.WORKER_APP_PLATFORM_PROVIDERS,{provide:_angular_core.CompilerFactory,useValue:BROWSER_DYNAMIC_COMPILER_FACTORY},{provide:_angular_core.PLATFORM_INITIALIZER,useValue:initReflector,multi:!0}],workerAppDynamicPlatform=_angular_core.createPlatformFactory("workerAppDynamic",WORKER_APP_DYNAMIC_PLATFORM_PROVIDERS);exports.BROWSER_APP_COMPILER_PROVIDERS=BROWSER_APP_COMPILER_PROVIDERS,exports.CACHED_TEMPLATE_PROVIDER=CACHED_TEMPLATE_PROVIDER,exports.BROWSER_DYNAMIC_COMPILER_FACTORY=BROWSER_DYNAMIC_COMPILER_FACTORY,exports.BROWSER_DYNAMIC_PLATFORM_PROVIDERS=BROWSER_DYNAMIC_PLATFORM_PROVIDERS,exports.browserDynamicPlatform=browserDynamicPlatform,exports.bootstrap=bootstrap,exports.bootstrapWorkerUi=bootstrapWorkerUi,exports.workerAppDynamicPlatform=workerAppDynamicPlatform,exports.bootstrapWorkerApp=bootstrapWorkerApp});