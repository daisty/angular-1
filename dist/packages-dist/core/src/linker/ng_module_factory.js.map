{"version":3,"file":"ng_module_factory.js","sourceRoot":"","sources":["../../../../../modules/@angular/core/src/linker/ng_module_factory.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;;;;;;;AAEH,yBAA2C,gBAAgB,CAAC,CAAA;AAC5D,2BAA4B,sBAAsB,CAAC,CAAA;AAGnD,2CAAwE,8BAA8B,CAAC,CAAA;AAGvG;;;;;;GAMG;AACH;IAAA;IAgBA,CAAC;IAZC,sBAAI,iCAAQ;QAHZ;;WAEG;aACH,cAA2B,MAAM,CAAC,0BAAa,EAAE,CAAC,CAAC,CAAC;;;OAAA;IAMpD,sBAAI,iDAAwB;QAJ5B;;;WAGG;aACH,cAA2D,MAAM,CAAC,0BAAa,EAAE,CAAC,CAAC,CAAC;;;OAAA;IAKpF,sBAAI,iCAAQ;QAHZ;;WAEG;aACH,cAAoB,MAAM,CAAC,0BAAa,EAAE,CAAC,CAAC,CAAC;;;OAAA;IAC/C,kBAAC;AAAD,CAAC,AAhBD,IAgBC;AAhBqB,mBAAW,cAgBhC,CAAA;AAED;;GAEG;AACH;IACE,yBACY,cAAqE,EACrE,UAA2B;QAD3B,mBAAc,GAAd,cAAc,CAAuD;QACrE,eAAU,GAAV,UAAU,CAAiB;IAAG,CAAC;IAE3C,sBAAI,uCAAU;aAAd,cAAoC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;;;OAAA;IAE7D,gCAAM,GAAN,UAAO,cAA+B;QAA/B,8BAA+B,GAA/B,qBAA+B;QACpC,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;YACpB,cAAc,GAAG,mBAAQ,CAAC,IAAI,CAAC;QACjC,CAAC;QACD,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;QACvD,QAAQ,CAAC,MAAM,EAAE,CAAC;QAClB,MAAM,CAAC,QAAQ,CAAC;IAClB,CAAC;IACH,sBAAC;AAAD,CAAC,AAfD,IAeC;AAfY,uBAAe,kBAe3B,CAAA;AAED,IAAM,UAAU,GAAG,IAAI,MAAM,EAAE,CAAC;AAEhC;IAAkD,oCAA+B;IAK/E,0BAAmB,MAAgB,EAAE,SAAkC;QACrE,kBAAM,SAAS,EAAE,MAAM,CAAC,GAAG,CAAC,qDAAwB,EAAE,qDAAwB,CAAC,IAAI,CAAC,CAAC,CAAC;QADrE,WAAM,GAAN,MAAM,CAAU;IAEnC,CAAC;IAED,iCAAM,GAAN,cAAW,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;IAInD,8BAAG,GAAH,UAAI,KAAU,EAAE,aAAuC;QAAvC,6BAAuC,GAAvC,6CAAuC;QACrD,EAAE,CAAC,CAAC,KAAK,KAAK,mBAAQ,IAAI,KAAK,KAAK,qDAAwB,CAAC,CAAC,CAAC;YAC7D,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QACD,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;QACjD,MAAM,CAAC,MAAM,KAAK,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,aAAa,CAAC,GAAG,MAAM,CAAC;IAChF,CAAC;IAID,sBAAI,sCAAQ;aAAZ,cAA2B,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;;;OAAA;IAEzC,sBAAI,sDAAwB;aAA5B,cAA2D,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;;;OAAA;IAC3E,uBAAC;AAAD,CAAC,AA1BD,CAAkD,4DAA+B,GA0BhF;AA1BqB,wBAAgB,mBA0BrC,CAAA","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injector, THROW_IF_NOT_FOUND} from '../di/injector';\nimport {unimplemented} from '../facade/exceptions';\nimport {ConcreteType} from '../facade/lang';\nimport {ComponentFactory} from './component_factory';\nimport {CodegenComponentFactoryResolver, ComponentFactoryResolver} from './component_factory_resolver';\n\n\n/**\n * Represents an instance of an NgModule created via a {@link NgModuleFactory}.\n *\n * `NgModuleRef` provides access to the NgModule Instance as well other objects related to this\n * NgModule Instance.\n * @stable\n */\nexport abstract class NgModuleRef<T> {\n  /**\n   * The injector that contains all of the providers of the NgModule.\n   */\n  get injector(): Injector { return unimplemented(); }\n\n  /**\n   * The ComponentFactoryResolver to get hold of the ComponentFactories\n   * delcared in the `precompile` property of the module.\n   */\n  get componentFactoryResolver(): ComponentFactoryResolver { return unimplemented(); }\n\n  /**\n   * The NgModule instance.\n   */\n  get instance(): T { return unimplemented(); }\n}\n\n/**\n * @stable\n */\nexport class NgModuleFactory<T> {\n  constructor(\n      private _injectorClass: {new (parentInjector: Injector): NgModuleInjector<T>},\n      private _moduleype: ConcreteType<T>) {}\n\n  get moduleType(): ConcreteType<T> { return this._moduleype; }\n\n  create(parentInjector: Injector = null): NgModuleRef<T> {\n    if (!parentInjector) {\n      parentInjector = Injector.NULL;\n    }\n    var instance = new this._injectorClass(parentInjector);\n    instance.create();\n    return instance;\n  }\n}\n\nconst _UNDEFINED = new Object();\n\nexport abstract class NgModuleInjector<T> extends CodegenComponentFactoryResolver implements\n    Injector,\n    NgModuleRef<T> {\n  public instance: T;\n\n  constructor(public parent: Injector, factories: ComponentFactory<any>[]) {\n    super(factories, parent.get(ComponentFactoryResolver, ComponentFactoryResolver.NULL));\n  }\n\n  create() { this.instance = this.createInternal(); }\n\n  abstract createInternal(): T;\n\n  get(token: any, notFoundValue: any = THROW_IF_NOT_FOUND): any {\n    if (token === Injector || token === ComponentFactoryResolver) {\n      return this;\n    }\n    var result = this.getInternal(token, _UNDEFINED);\n    return result === _UNDEFINED ? this.parent.get(token, notFoundValue) : result;\n  }\n\n  abstract getInternal(token: any, notFoundValue: any): any;\n\n  get injector(): Injector { return this; }\n\n  get componentFactoryResolver(): ComponentFactoryResolver { return this; }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}